<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="https://anyworks.github.io/DynamicLoader/dynamicloader.js" type="text/javascript"></script>
    <script>
        window.addEventListener("DOMContentLoaded",function(){
            dl.use.all(["d3","jasmine"]);
            dl.addTagBoth("https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/4.2.0/core/main.min.set");
            dl.addTagBoth("https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/4.2.0/daygrid/main.min.set");
            
        });

        window.addEventListener("load",function(){
            describe("dynamic load", function() {
                it("Jasmine has been loaded correctly", function() {
                    expect(jasmine).not.toBeUndefined();
                });
                it("full calender loaded", function() {
                    var el = document.querySelector("#cal");
                    expect(el).not.toBe(null);
                    let calendar = new FullCalendar.Calendar(el, {
                        plugins: [ "dayGrid" ],
                        defaultView: 'dayGridMonth'
                    });
                    calendar.render();
                });
            });
            describe("ql tool", function() {
                it("single and multi", function() {
                    expect(dl.qs("#cal")).not.toBe(null);
                    expect(dl.qa("#cal").length).toBe(1);
                });
            });
        });

    </script>
</head>
<body>
    <div id="cal"></div>
</body>
</html>